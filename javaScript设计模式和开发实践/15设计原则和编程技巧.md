# 15设计原则和编程技巧



### 1. 设计原则

> 通常包括：单一职责原则、里氏替换原则、依赖倒置原则、接口隔离原则、合成复用原则和最少知识原则。



---

1. 单一职责原则（SRP）：一个对象（方法）只做一件事。
2. 优点：按照职责把对象（方法）分解成更小的粒度，这有助于代码的复用，也有利于进行单元测试。缺点：增加编写代码的复杂度。把对象（方法）分解成更小的粒度后，实际上也增大了这些对象或方法之间相互联系的难度。

---

1. 最少知识原则（LKP）：一个软件实体应当尽可能少地与其他实体发生相互作用。换句话说，如果两个对象之间不必彼此直接通信，那么这两个对象就不要发生直接的相互联系。常见的做法是引入一个第三者对象，来承担这些对象之间的通信作用。

---

1. 开放-封闭原则（OCP）：软件实体（类、模块、函数）等应该是可以扩展的，但是不可修改。通常做法是：封装变化，把系统中稳定不变的部分和容易变化的部分隔离开来。常见解决方案：利用对象的多态性、放置挂钩、使用回调函数。



---

### 2. 代码重构

> 提炼函数、合并重复的条件片段、把条件分支语句提炼成函数、合理使用循环、提前让函数退出代替嵌套条件分支、传递对象参数代替过长的参数列表、尽量减少参数数量、少用三目运算符、合理使用链式调用、分解大型类、用return退出多重循环。